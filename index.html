
<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>Treadmill</title> <style> body{font-family:Arial;text-align:center;background:#f4f4f4;padding:20px} .big{font-size:40px;font-weight:bold} .small{font-size:16px;color:green;margin-left:6px} .tiny{font-size:14px;color:#333} p{font-size:20px;margin:10px} button{margin:5px;padding:8px 16px} </style> </head>  <body>  <h1>Treadmill Status</h1>  <p><strong>Speed:</strong> <span id="speed" class="big">0</span> <span class="tiny">km/h</span> <span id="pace" class="small">—</span> <span id="belt" class="small">—</span> <span id="slip" class="small">0%</span></p>  <p><strong>Tilt:</strong> <span id="tilt" class="big">0</span> <span class="tiny">°</span> <span id="incline" class="small">0%</span></p>  <p><strong>Step Rate:</strong> <span id="steps">0</span> steps/min</p> <p><strong>Heart Rate:</strong> <span id="heart">0</span> bpm</p> <p><strong>Time:</strong> <span id="time">00:00</span></p>  <p><strong>Distance:</strong> <span id="distance">0.0</span> m</p>  <button onclick="fetch('/start')">Rögzítés indítása</button> <button onclick="fetch('/stop')">Rögzítés leállítása</button> <br><br> <button onclick="startD()">Táv Start</button> <button onclick="stopD()">Táv Stop</button> <button onclick="resetD()">Táv Reset</button>  <script> let dist=0, run=false, last=Date.now();  function startD(){ run=true; last=Date.now(); } function stopD(){ run=false; } function resetD(){ dist=0; distance.innerText="0.0"; }  setInterval(()=>{   fetch('/data').then(r=>r.json()).then(d=>{     speed.innerText=d.speed.toFixed(1);     pace.innerText=d.speed>0.1?(60/d.speed).toFixed(2)+" min/km":"—";     belt.innerText=d.belt_speed.toFixed(1)+" km/h";     slip.innerText=d.slip.toFixed(1)+"%";     tilt.innerText=d.tilt.toFixed(1);     incline.innerText=d.incline.toFixed(1)+"%";     steps.innerText=d.steps.toFixed(1);     heart.innerText=d.heart;     time.innerText=d.time;      if(run){       let now=Date.now();       dist+= (d.belt_speed*1000/3600) * ((now-last)/1000);       last=now;       distance.innerText=dist.toFixed(1);     }   }); },1000); </script>  </body> </html>